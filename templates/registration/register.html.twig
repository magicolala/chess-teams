{% extends 'base.html.twig' %}

{% block title %}Créer un compte - Chess Teams{% endblock %}


{% block body %}
	{% for message in app.flashes('success') %}
		<div class="neo-alert neo-alert-success neo-mb-lg">
			✅ {{ message }}
		</div>
	{% endfor %}
	{% for message in app.flashes('error') %}
		<div class="neo-alert neo-alert-error neo-mb-lg">
			❌ {{ message }}
		</div>
	{% endfor %}
	<div class="neo-animate-fadeIn">
		<div class="neo-flex neo-justify-center neo-items-start neo-min-h-screen neo-pt-xl">
			<div class="neo-w-full neo-max-w-xs">
				<div class="neo-card neo-animate-slideIn">
					<div class="neo-card-header neo-text-center">
						<div class="neo-text-4xl neo-mb-md">👥</div>
						<h1 class="neo-card-title neo-text-xl">Créer un compte</h1>
						<p class="neo-text-secondary">Rejoignez la communauté Chess Teams et jouez en équipe !</p>
					</div>
					<div class="neo-card-content">
						{{ form_start(registrationForm, {'attr': {'novalidate': 'novalidate'}}) }}
							{{ form_errors(registrationForm) }}
							<div class="neo-form-group">
								<label class="neo-label">
									📧 Adresse e-mail
								</label>
								{{ form_widget(registrationForm.email, {
									'attr': {
										'placeholder': 'votre.email@exemple.com',
										'autocomplete': 'email',
										'class': 'neo-input'
									}
								}) }}
								{{ form_errors(registrationForm.email) }}
							</div>

							<div class="neo-form-group">
								<label class="neo-label">
									👤 Pseudo
								</label>
								<div data-controller="pseudo-generator">
									{{ form_widget(registrationForm.displayName, {
										'attr': {
											'placeholder': 'ChessPlayer123',
											'maxlength': 50,
											'class': 'neo-input',
											'id': 'username'
										}
									}) }}
									<button type="button" class="neo-btn neo-btn-secondary neo-mt-sm" data-action="click->pseudo-generator#generate">
										🎲 Générer un pseudo aléatoire
									</button>
								</div>
								<div class="neo-form-help">
									ℹ️ Ce nom sera affiché aux autres joueurs dans les parties.
								</div>
								{{ form_errors(registrationForm.displayName) }}
							</div>

							<div class="neo-form-group">
								<label class="neo-label">
									🔒 Mot de passe
								</label>
								{{ form_widget(registrationForm.plainPassword, {
									'attr': {
										'placeholder': 'Au moins 6 caractères',
										'autocomplete': 'new-password',
										'class': 'neo-input'
									}
								}) }}
								<div class="neo-form-help">
									🔐 Minimum 6 caractères pour assurer la sécurité de votre compte.
								</div>
								{{ form_errors(registrationForm.plainPassword) }}
							</div>

							<div class="neo-form-group">
								<label class="neo-checkbox">
									{{ form_widget(registrationForm.agreeTerms) }}
									<span class="neo-checkbox-label">
										J'accepte les conditions d'utilisation et la politique de confidentialité
									</span>
								</label>
								{{ form_errors(registrationForm.agreeTerms) }}
							</div>

							<button type="submit" class="neo-btn neo-btn-primary neo-btn-full neo-animate-pulse">
								🎆 Créer mon compte
							</button>

						{{ form_end(registrationForm) }}

						<div class="neo-text-center neo-mt-lg neo-pt-lg neo-border-t">
							<p class="neo-text-secondary">Déjà un compte ?</p>
							<a href="{{ path('app_login') }}" class="neo-btn neo-btn-outline neo-btn-sm">
								🔐 Se connecter
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
